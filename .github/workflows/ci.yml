- name: Build and push Docker image
  run: |
    docker build \
      -f src/Dockerfile \                  # Path to your Dockerfile
      -t docker.io/${{ env.IMAGE_NAME }}:${{ github.sha }} \
      -t docker.io/${{ env.IMAGE_NAME }}:latest \
      src                                  # Build context is the `src` folder

    docker push docker.io/${{ env.IMAGE_NAME }}:${{ github.sha }}
    docker push docker.io/${{ env.IMAGE_NAME }}:latest
